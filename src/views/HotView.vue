<template>
  <div>
    <div class="box-hot">
      <div class="nav">
        <SwiperView :swiperList="swiperList"></SwiperView>
      </div>
      <div class="top">
        <RankView :videoData="hotVideo">
          <template #title>最热</template>
          <template #icon
            ><svg
              t="1673003780435"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="3904"
              width="32"
              height="32"
            >
              <path
                d="M512 0C229.249829 0 0 229.249829 0 512s229.249829 512 512 512c282.784914 0 512-229.249829 512-512S794.784914 0 512 0zM512 73.142857c242.000457 0 438.857143 196.856686 438.857143 438.857143 0 57.929143-11.5712 113.179429-32.036571 163.856457-37.677714-195.964343-168.892343-310.286629-168.892343-310.286629-8.321829 146.428343-34.285714 215.071086-34.285714 215.071086C628.571429 342.857143 477.714286 228.500114 477.714286 228.500114c-26.642286 274.071771-175.107657 434.0352-175.107657 434.0352-25.071543-100.106971-70.392686-167.5008-70.392686-167.5008-7.963429 128.071314-42.821486 214.250057-77.856914 270.392686C103.427657 693.7856 73.142857 606.429257 73.142857 512 73.142857 269.999543 269.999543 73.142857 512 73.142857zM512 950.857143c-122.858057 0-233.929143-50.8928-313.642057-132.500114 43.964343-63.857371 59.178057-117.392457 59.178057-117.392457 17.7152 39.285029 20.357486 113.821257 20.357486 113.821257C479.857371 639.678171 530.322286 502.893714 530.322286 502.893714c117.321143 161.499429 152.963657 329.034971 152.963657 329.034971 97.106286-99.000686 127.572114-232.250514 127.572114-232.250514 31.857371 42.964114 49.3568 105.250743 59.072 165.392457C790.357943 877.2864 659.713829 950.857143 512 950.857143z"
                fill="#F69661"
                p-id="3905"
              ></path></svg
          ></template>
        </RankView>
      </div>
      <div class="recommend">
        <RankView :videoData="lastVideo">
          <template #title>最新</template>
          <template #icon
            ><svg
              t="1673003643430"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="2723"
              width="32"
              height="32"
            >
              <path
                d="M890.88 63.488q28.672 0 52.736 10.752t41.984 29.184 28.16 43.52 10.24 53.76l0 620.544q0 28.672-10.24 53.76t-28.16 43.52-41.984 29.184-52.736 10.752l-689.152 0q-28.672 0-53.76-10.752t-43.52-29.184-29.184-43.52-10.752-53.76l0-620.544q0-28.672 10.752-53.76t29.184-43.52 43.52-29.184 53.76-10.752l689.152 0zM256 254.976q9.216 0 27.648 0.512t43.008 0.512l52.224 0 55.296 0q64.512 0 141.312-1.024l0-63.488-126.976 0 0-64.512-64.512 0 0 64.512-128 0 0 63.488zM377.856 360.448q-8.192-15.36-15.36-29.696-6.144-12.288-12.288-25.088t-9.216-20.992l-58.368 21.504 32.768 76.8zM254.976 756.736l101.376-143.36-66.56-26.624-98.304 145.408zM448.512 574.464l126.976 0 0-62.464-45.056 0-81.92 0 0-64.512q23.552 0 46.08 0.512t40.96 0.512l40.96 0 0-63.488-66.56 0q-19.456 0-40.96-1.024l68.608-65.536-68.608-32.768-20.48 98.304-257.024 0 0 63.488 35.84 0 47.104 0 53.248 0 56.32 0 0 64.512-128 0 0 62.464 40.96 0q18.432 0 40.96 0.512t46.08-0.512l0 129.024q0 16.384-2.048 27.136t-10.24 15.36-25.088 4.608-47.616-5.12q25.6 31.744 27.648 71.68 13.312-2.048 34.304-1.024t40.448-1.536 33.28-12.8 13.824-34.816l0-192.512zM568.32 685.056q-16.384-19.456-29.696-37.888-11.264-15.36-23.552-30.208t-18.432-23.04l-46.08 30.72 64.512 98.304zM896 379.904q-20.48-1.024-53.248-0.512t-63.488 1.536q-36.864 1.024-75.776 3.072l0-129.024q49.152 0 85.504-4.608t59.904-9.728q27.648-6.144 46.08-14.336-18.432-27.648-29.696-46.08-5.12-8.192-9.728-15.36t-7.68-11.264-3.584-4.608 1.536 4.608q-21.504 16.384-57.344 24.064t-69.632 10.752-57.344 3.072-21.504 0q1.024 16.384 1.536 44.032t0 77.824-1.024 129.024-0.512 196.608q0 13.312-3.072 33.28t-10.24 39.936-19.968 35.328-31.232 19.456q12.288 3.072 21.504 11.776t16.896 18.432 13.824 19.456 12.288 14.848q12.288-18.432 23.552-42.496t20.48-50.176 14.336-52.224 5.12-47.616l0-40.96 0-43.008 0-47.104 0-60.416 64.512 0 0 384 63.488 0 0-384q23.552 1.024 35.328 0.512t29.184 3.584l0-71.68z"
                p-id="2724"
                fill="#dbdbdb"
              ></path></svg
          ></template>
        </RankView>
      </div>
    </div>
    <div class="video_list">
      <VideoList :videoData="hotVideoTop">
        <template #title> 热门 </template>
        <template #icon>
          <svg
            t="1673005987566"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2706"
            width="32"
            height="32"
          >
            <path
              d="M478.540504 23.235761s34.388927 121.987747-74.122079 217.196279c-52.280463 45.890629-134.941684 121.987747-158.409802 253.211709A366.544134 366.544134 0 0 1 174.732925 351.034264S88.818698 574.097572 161.023826 756.498298c42.056728 105.838893 186.699342 250.481507 384.203313 250.481507 123.61425 0 247.112321-71.391877 327.97277-270.928977 0 0 41.766281-143.655094 0-220.739732C840.03086 453.097345 804.01543 383.390061 854.320853 272.206943c0 0-123.498071 68.13887-115.481733 110.892671 0 0.290447 12.256864-166.48423-260.298616-359.863853z"
              fill="#d81e06"
              p-id="2707"
            ></path>
            <path
              d="M873.490356 516.472884l-0.755162-1.452235c0.98752 12.373043 1.684593 24.804175 1.684593 37.467665a445.661902 445.661902 0 0 1-421.670978 444.964829 397.970501 397.970501 0 0 0 92.943045 10.978897c123.61425 0 247.112321-71.391877 327.914681-270.928977-0.116179 0.232358 41.708192-143.597005-0.116179-221.030179z"
              fill="#d81e06"
              p-id="2708"
            ></path>
            <path
              d="M169.795326 580.894032a464.715226 464.715226 0 0 1 28.579986-160.907647 348.013615 348.013615 0 0 1-23.642387-66.802813S88.818698 576.24688 161.023826 758.647606c30.555026 76.968459 115.481734 174.26821 235.436351 221.843431A465.29612 465.29612 0 0 1 169.795326 580.894032z"
              fill="#d81e06"
              p-id="2709"
            ></path>
            <path
              d="M545.459496 1024c-213.18811 0-355.449058-158.119356-395.007942-257.742682-73.250737-184.491945 9.875199-404.650783 13.418652-413.945087l13.360563-34.853642 8.7715 36.305877a361.838893 361.838893 0 0 0 53.906966 118.095756c30.438847-123.672339 111.822101-195.180395 156.841389-234.681189a224.283186 224.283186 0 0 0 55.126844-71.624234 11.617881 11.617881 0 0 1 20.970274 9.991378 245.776265 245.776265 0 0 1-60.761516 79.059677c-45.832539 40.255956-131.223962 115.249376-154.633991 246.531428l-4.240526 23.642387-15.916497-18.007715A373.74722 373.74722 0 0 1 174.26821 395.356478c-20.157023 68.952122-55.533469 228.117086-2.207398 362.303608 40.081688 100.959383 182.458816 243.104152 373.398684 243.104153 92.943045 0 172.351259-40.662582 236.481961-120.942138A11.617881 11.617881 0 0 1 800.007261 894.57681c-67.674155 84.578171-155.73769 129.42319-254.547765 129.42319zM889.929657 663.613342h-1.161788a11.617881 11.617881 0 0 1-10.398003-12.721579c5.228046-53.55843 0-96.718856-15.161334-124.834127-29.451327-54.48786-65.350579-121.000227-32.18153-220.739733-37.351486 24.107102-76.039029 55.533469-80.511912 75.516225a67.557976 67.557976 0 0 1 0 8.945768l-6.506014 88.992965-16.49739-87.714999a36.712503 36.712503 0 0 1 0-10.107556c-1.742682-32.007261-22.190152-168.459269-232.357613-326.113909a240.025414 240.025414 0 0 1 0 40.662582 11.617881 11.617881 0 1 1-23.235761-1.91695 192.101656 192.101656 0 0 0-4.008169-61.458589L458.44157 0l26.837305 19.053324C679.181302 156.841389 731.694123 281.036533 745.63558 344.760608c30.264579-35.783072 87.831178-68.835943 103.10869-77.316996l30.555027-16.845926-14.406172 31.832992c-48.67892 107.639664-12.837758 173.977763 18.762877 232.357613 17.426821 32.646245 23.642387 79.117767 17.833447 138.136601a11.617881 11.617881 0 0 1-11.559792 10.68845z"
              fill="#d81e06"
              p-id="2710"
            ></path>
            <path
              d="M843.225777 806.571364a695.911051 695.911051 0 0 0 30.20649-65.118221"
              fill="#d81e06"
              p-id="2711"
            ></path>
            <path
              d="M843.225777 818.131155a11.617881 11.617881 0 0 1-5.402314-1.336056 11.617881 11.617881 0 0 1-4.821421-15.684139 704.275925 704.275925 0 0 0 29.625596-63.898344 11.617881 11.617881 0 1 1 21.551168 8.7715 718.972544 718.972544 0 0 1-30.671204 66.105741 11.617881 11.617881 0 0 1-10.281825 6.041298z"
              fill="#d81e06"
              p-id="2712"
            ></path>
            <path
              d="M338.661221 839.217608c0-179.031541 153.936919-184.840481 185.88609-324.255048 0 0 200.408441 171.36374 185.88609 324.255048-6.970728 73.483095-92.594509 160.6172-151.729521 167.529839-24.165192 2.788291-44.670751 6.912639-68.255049 0.98752-66.280009-16.613569-151.787611-93.930565-151.78761-168.517359z"
              fill="#d81e06"
              p-id="2713"
            ></path>
            <path
              d="M524.547311 512.697073v0.638983c60.529158 61.28432 172.525528 191.695031 161.140005 311.53347-7.435444 78.653052-99.158611 171.944634-162.650329 179.321988-8.539142 0.98752-16.671659 2.091219-24.571818 2.962559 20.215112 3.253007 38.687543 0 60.006354-2.730202 59.135012-6.85455 144.758793-93.988654 151.729521-167.471749 14.754708-152.891309-185.653733-324.255049-185.653733-324.255049z"
              fill="#d81e06"
              p-id="2714"
            ></path>
            <path
              d="M515.950079 1022.373497a113.971409 113.971409 0 0 1-28.347628-3.369186c-35.376447-8.887679-75.109598-33.401407-106.245519-65.699115-34.853642-36.305877-54.313592-76.794191-54.313592-114.087588 0-105.548446 51.060585-153.82074 100.378489-200.46653 37.351486-35.318357 72.611754-68.661675 85.798048-126.344452l4.298616-18.646699 14.580441 12.489222a807.442705 807.442705 0 0 1 100.029952 106.361697c65.931473 84.63626 96.196052 161.256183 89.864307 227.710461-7.725891 81.325165-99.27479 170.666667-161.953257 177.927842l-10.223735 1.277967a266.339914 266.339914 0 0 1-33.866122 2.846381z m14.754709-486.150216c-17.426821 53.384162-52.977536 87.134105-87.134105 119.373724-47.865668 45.309735-92.943045 88.121625-92.943045 183.620603 0 65.408668 78.594963 141.15725 142.958021 157.248015 18.065804 4.530973 34.853642 2.439755 53.674609 0l10.456092-1.277967c52.861357-6.157477 134.999773-88.412072 141.505787-156.841389 11.269344-122.394373-124.311323-260.530973-168.517359-302.122986z"
              fill="#d81e06"
              p-id="2715"
            ></path>
          </svg>
        </template>
      </VideoList>
      <div class="pagination">
        <Pagination :total="total" @getPage="getPage"></Pagination>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import SwiperView from "../components/SwiperView.vue";
import RankView from "../components/RankView.vue";
import Pagination from "../components/Pagination.vue";
import { ref } from "vue";
import {
  SwiperNewApi,
  HotVideoApi,
  LastVideoApi,
  HotVideoTopApi,
} from "../api";
let swiperList = ref<swiperRes[]>([]);
let hotVideo = ref<VideoRes[]>([]);
let lastVideo = ref<VideoRes[]>([]);
let hotVideoTop = ref<VideoRes[]>([]);
let page = {
  page: 1,
  pageSize: 12,
};
let total = ref<number>(1);
SwiperNewApi().then((res) => {
  if (res.code == 200) {
    swiperList.value = res.data;
  }
});

HotVideoApi().then((res) => {
  if (res.code == 200) {
    total.value = res.data.length;
    hotVideo.value = res.data;
  }
});
LastVideoApi().then((res) => {
  if (res.code == 200) {
    total.value = res.data.length;
    lastVideo.value = res.data;
  }
});
HotVideoTopApi(page).then((res) => {
  total.value = res.data.length;
  if (res.code == 200) {
    hotVideoTop.value = res.data;
  }
});
const getPage = (pageParams: PageParams) => {
  HotVideoTopApi(pageParams).then((res) => {
    total.value = res.data.length;
    hotVideoTop.value = res.data;
  });
};
</script>

<style lang="scss" scoped>
.box-hot {
  margin: 0 auto;
  width: 1600px;
  height: 630px;

  display: flex;
  justify-content: space-around;
  padding: 5px;
  .nav {
    width: 800px;
    height: 100%;
  }
  .top {
    width: 300px;
    height: 100%;
    background-color: #fff;
  }
  .recommend {
    width: 300px;
    height: 100%;
    background-color: #fff;
  }
}
</style>
