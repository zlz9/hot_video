<template>
  <div class="user-box" v-if="isShow" @click="cancel">
    <Transition>
      <div class="user_info">
        <div
          class="cancel_icon"
          style="display: flex; flex-direction: row-reverse; padding: 5px"
        >
          <el-icon @click="cancel"><Close /></el-icon>
          <div class="user">
            <div class="account">
              <router-link to="/userupload">
                {{ userStore.userInfo.nickName }}</router-link
              >
              <svg
                t="1672377067859"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="2726"
                width="32"
                height="32"
              >
                <path
                  d="M535.272727 553.890909c69.818182-41.890909 116.363636-116.363636 116.363637-200.145454 0-130.327273-107.054545-237.381818-237.381819-237.381819s-246.690909 107.054545-246.690909 237.381819c0 83.781818 46.545455 158.254545 116.363637 200.145454-125.672727 46.545455-214.109091 167.563636-214.109091 311.854546 0 23.272727 18.618182 41.890909 41.890909 41.890909s41.890909-18.618182 41.890909-41.890909c0-139.636364 116.363636-256 256-256 144.290909 0 256 116.363636 256 256 0 23.272727 18.618182 41.890909 41.890909 41.890909s41.890909-18.618182 41.890909-41.890909c0-139.636364-88.436364-260.654545-214.109091-311.854546z m-125.672727-41.890909c-88.436364 0-158.254545-69.818182-158.254545-158.254545s69.818182-158.254545 158.254545-158.254546 158.254545 69.818182 158.254545 158.254546-69.818182 158.254545-158.254545 158.254545zM763.345455 344.436364h153.6c23.272727 0 37.236364-18.618182 37.236363-37.236364 0-23.272727-18.618182-37.236364-37.236363-37.236364h-153.6c-23.272727 0-37.236364 18.618182-37.236364 37.236364-4.654545 18.618182 13.963636 37.236364 37.236364 37.236364z"
                  p-id="2727"
                  fill="#cdcdcd"
                ></path>
                <path
                  d="M916.945455 414.254545h-195.49091c-23.272727 0-37.236364 18.618182-37.236363 37.236364 0 23.272727 18.618182 37.236364 37.236363 37.236364h195.49091c23.272727 0 37.236364-18.618182 37.236363-37.236364s-18.618182-37.236364-37.236363-37.236364zM916.945455 563.2h-153.6c-23.272727 0-37.236364 18.618182-37.236364 37.236364 0 23.272727 18.618182 37.236364 37.236364 37.236363h153.6c23.272727 0 37.236364-18.618182 37.236363-37.236363s-18.618182-37.236364-37.236363-37.236364z"
                  p-id="2728"
                  fill="#cdcdcd"
                ></path>
              </svg>
            </div>
            <div class="update">
              <router-link to="/update">上传</router-link>
              <svg
                t="1672995747119"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="2740"
                width="32"
                height="32"
              >
                <path
                  d="M186.636724 430.268534c4.909823 0 9.82374-1.855254 13.596669-5.573949l306.881342-302.44838 0 648.318712c0 10.698666 8.67252 19.371186 19.371186 19.371186s19.371186-8.67252 19.371186-19.371186l0-647.568628 302.538431 298.121841c3.773953 3.718695 8.683776 5.572926 13.594623 5.572926 5.004991 0 10.007935-1.927909 13.798261-5.774517 7.509021-7.620561 7.41897-19.884886-0.201591-27.393907L540.528754 63.354933c-3.354398-3.306302-7.608282-5.134951-11.961426-5.501294-0.684592-0.073678-1.378393-0.115634-2.081405-0.115634-0.328481 0-0.648776 0.032746-0.974188 0.049119-4.989641-0.061398-10.001795 1.788739-13.837146 5.568832L173.039032 397.101133c-7.619538 7.509021-7.708566 19.774369-0.199545 27.393907C176.629813 428.341648 181.631734 430.268534 186.636724 430.268534z"
                  fill="#cdcdcd"
                  p-id="2741"
                ></path>
                <path
                  d="M876.833219 705.913455c-10.698666 0-19.371186 8.67252-19.371186 19.371186l0 165.41847c0 13.05534-10.620895 23.676236-23.676236 23.676236l-618.946754 0c-13.05534 0-23.676236-10.620895-23.676236-23.676236L191.162808 725.284641c0-10.698666-8.67252-19.371186-19.371186-19.371186s-19.371186 8.67252-19.371186 19.371186l0 165.41847c0 34.417881 28.000728 62.417585 62.417585 62.417585l618.946754 0c34.417881 0 62.417585-27.999704 62.417585-62.417585L896.202359 725.284641C896.204405 714.585975 887.531885 705.913455 876.833219 705.913455z"
                  fill="#FF9000"
                  p-id="2742"
                ></path>
              </svg>
            </div>
            <div class="history">
              <router-link to="/history">历史</router-link
              ><svg
                t="1672377171560"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="5167"
                width="32"
                height="32"
              >
                <path
                  d="M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z m42.666667-486.869333V298.538667C554.666667 275.328 535.552 256 512 256c-23.722667 0-42.666667 19.029333-42.666667 42.538667v256.256a41.984 41.984 0 0 0 12.202667 29.866666l121.258667 121.258667a42.368 42.368 0 0 0 60.032-0.298667 42.666667 42.666667 0 0 0 0.298666-60.032L554.666667 537.130667z"
                  fill="#dbdbdb"
                  p-id="5168"
                ></path>
              </svg>
            </div>
            <div class="message">
              <router-link to="/message">私信</router-link>
              <svg
                t="1672377219155"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="5739"
                width="32"
                height="32"
              >
                <path
                  d="M236.088889 907.377778l-102.4 28.444444c-62.577778 17.066667-99.555556-19.911111-85.333333-82.488889l22.755555-105.244444C25.6 679.822222 0 597.333333 0 512 0 253.155556 230.4 42.666667 512 42.666667S1024 253.155556 1024 512s-230.4 469.333333-512 469.333333c-96.711111 0-193.422222-25.6-275.911111-73.955555z m5.688889-36.977778c79.644444 48.355556 173.511111 73.955556 270.222222 73.955556 264.533333 0 480.711111-193.422222 480.711111-435.2S776.533333 76.8 512 76.8 31.288889 273.066667 31.288889 512c0 79.644444 25.6 159.288889 73.955555 227.555556l8.533334 11.377777-22.755556 99.555556c-8.533333 31.288889 11.377778 51.2 42.666667 39.822222l99.555555-28.444444 8.533334 8.533333z m361.244444-455.111111h-278.755555c-5.688889 0-8.533333-2.844444-11.377778-5.688889s-5.688889-5.688889-5.688889-11.377778 2.844444-8.533333 5.688889-11.377778 5.688889-5.688889 11.377778-5.688888h278.755555c5.688889 0 8.533333 2.844444 11.377778 5.688888 2.844444 2.844444 5.688889 5.688889 5.688889 11.377778s-2.844444 8.533333-5.688889 11.377778c-2.844444 5.688889-8.533333 5.688889-11.377778 5.688889z m122.311111 0h-48.355555c-2.844444 0-5.688889-2.844444-11.377778-5.688889s-5.688889-5.688889-5.688889-11.377778 2.844444-8.533333 5.688889-11.377778 5.688889-5.688889 11.377778-5.688888h48.355555c5.688889 0 8.533333 2.844444 11.377778 5.688888s5.688889 5.688889 5.688889 11.377778-2.844444 8.533333-5.688889 11.377778-5.688889 5.688889-11.377778 5.688889z m-216.177777 156.444444h-170.666667c-5.688889 0-8.533333-2.844444-11.377778-5.688889-2.844444-2.844444-5.688889-8.533333-5.688889-11.377777s2.844444-8.533333 5.688889-11.377778c2.844444-2.844444 5.688889-5.688889 11.377778-5.688889h170.666667c2.844444 0 8.533333 2.844444 11.377777 5.688889s5.688889 5.688889 5.688889 11.377778c0 2.844444-2.844444 8.533333-5.688889 11.377777-2.844444 5.688889-8.533333 5.688889-11.377777 5.688889z m93.866666 0h-31.288889c-5.688889 0-8.533333-2.844444-11.377777-5.688889s-5.688889-8.533333-5.688889-11.377777 2.844444-8.533333 5.688889-11.377778 5.688889-5.688889 11.377777-5.688889h31.288889c5.688889 0 8.533333 2.844444 11.377778 5.688889s5.688889 5.688889 5.688889 11.377778c0 2.844444-2.844444 8.533333-5.688889 11.377777-2.844444 5.688889-8.533333 5.688889-11.377778 5.688889z"
                  fill="#dbdbdb"
                  p-id="5740"
                ></path>
              </svg>
            </div>
            <div class="modify">
              <router-link to="/admin">管理</router-link>
              <svg
                t="1672377251682"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="6779"
                width="32"
                height="32"
              >
                <path
                  d="M684.202667 117.248c15.893333-15.872 42.154667-15.36 58.922666 1.408l90.517334 90.517333c16.661333 16.661333 17.344 42.986667 1.429333 58.922667l-445.653333 445.653333c-7.936 7.914667-23.104 16.746667-34.218667 19.776l-143.701333 39.253334c-21.909333 5.994667-35.114667-7.104-29.568-28.949334l37.248-146.773333c2.773333-10.944 11.562667-26.346667 19.392-34.176l445.653333-445.653333zM268.736 593.066667c-2.901333 2.901333-8.106667 12.074667-9.130667 16.021333l-29.12 114.773333 111.957334-30.570666c4.437333-1.216 13.632-6.549333 16.810666-9.728l445.653334-445.653334-90.517334-90.496-445.653333 445.653334zM682.794667 178.986667l90.517333 90.517333-30.186667 30.186667-90.496-90.517334 30.165334-30.165333z m-362.026667 362.048l90.496 90.517333-30.165333 30.165333-90.517334-90.496 30.165334-30.186666zM170.666667 874.666667c0-11.776 9.429333-21.333333 21.461333-21.333334h661.077333a21.333333 21.333333 0 1 1 0 42.666667H192.128A21.333333 21.333333 0 0 1 170.666667 874.666667z"
                  fill="#dbdbdb"
                  p-id="6780"
                ></path>
              </svg>
            </div>
            <div class="logout" @click="logout">
              退出<svg
                t="1672377281841"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="7820"
                width="32"
                height="32"
              >
                <path
                  d="M874.666667 855.744a19.093333 19.093333 0 0 1-19.136 18.922667H168.469333A19.2 19.2 0 0 1 149.333333 855.530667V168.469333A19.2 19.2 0 0 1 168.469333 149.333333h687.061334c10.581333 0 19.136 8.533333 19.136 18.922667V320h42.666666V168.256A61.717333 61.717333 0 0 0 855.530667 106.666667H168.469333A61.866667 61.866667 0 0 0 106.666667 168.469333v687.061334A61.866667 61.866667 0 0 0 168.469333 917.333333h687.061334A61.76 61.76 0 0 0 917.333333 855.744V704h-42.666666v151.744zM851.84 533.333333l-131.797333 131.754667a21.141333 21.141333 0 0 0 0.213333 29.973333 21.141333 21.141333 0 0 0 29.973333 0.192l165.589334-165.589333a20.821333 20.821333 0 0 0 6.122666-14.976 21.44 21.44 0 0 0-6.314666-14.997333l-168.533334-168.533334a21.141333 21.141333 0 0 0-29.952-0.213333 21.141333 21.141333 0 0 0 0.213334 29.973333L847.296 490.666667H469.333333v42.666666h382.506667z"
                  fill="#dbdbdb"
                  p-id="7821"
                ></path>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </Transition>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import { useRouter } from "vue-router";
import { useUserStore } from "../store/user";
const userStore = useUserStore();
const isShow = ref<boolean>(false);
const router = useRouter();
const traggle = () => {
  isShow.value = !isShow.value;
};
const cancel = () => {
  isShow.value = false;
};
const logout = () => {
  // 清除token
  localStorage.clear();
  userStore.token = "";
  userStore.clearUser();
  userStore.VideoIds = [];
  router.push("/login");
};
defineExpose({
  traggle,
});
</script>

<style lang="scss" scoped>
.user-box {
  width: 1800px;
  height: 1600px;
  position: fixed;
  z-index: 200;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}
a {
  text-decoration: none;
  color: #fff;
}
.user_info {
  position: fixed;
  top: 75px;
  right: 80px;
  width: 300px;
  height: 400px;
  background-color: rgb(32, 58, 31);
  z-index: 100;
}
.user {
  position: relative;
  top: 40px;
  font-size: 32px;
  margin: 0 auto;
  .account,
  .like,
  .history,
  .message,
  .modify,
  .update,
  .logout {
    height: 32px;
    line-height: 32px;
    margin: 10px;
    width: 220px;
    display: flex;
    justify-content: space-between;
    &:hover {
      font-size: 40px;
      background-color: $font-hover;
      height: 45px;
      line-height: 45px;
      width: 230px;
      border-radius: 20px;
      padding: 5px;
    }
  }
}
.v-enter-active,
.v-leave-active {
  transition: opacity 0.5s ease;
}

.v-enter-from,
.v-leave-to {
  opacity: 0;
}
</style>
